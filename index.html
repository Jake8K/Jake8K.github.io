<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>How To Use Strava's V3 API</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/scrolling-nav.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src= "stravaCode.js" ></script>

</head>

<!-- The #page-top ID is part of the scrolling feature - the data-spy and data-target are part of the built-in Bootstrap scrollspy function -->

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">Strava's V3 API</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                    <li class="hidden">
                        <a class="page-scroll" href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#basics">The Basics</a> <!-- about -->
                    </li>
                    <li>
                        <a class="page-scroll" href="#authorization">Authorization</a> <!-- services? -->
                    </li>
                    <li>
                        <a class="page-scroll" href="#GETnPOST">GET & POST</a> <!-- contact -->
                    </li>
                    <li>
                        <a class="page-scroll" href="#request">Make a Request</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#response">Get a Response</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#connections">Go Deeper</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#repeat">Deeper</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#voile">Voile!</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#results">Results</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#extra">Learn More</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\ Intro Section /\/\/\/\/\/\/\/\/\/\/\/\/\ -->
    <section id="intro" class="intro-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>The Strava (V3) API</h1>
                    <h5><a href=https://strava.github.io/api/>Strava's API Documentation</a></h5>
                    </br>
                    <h3>What's an API?</h3>
                    <p>
                      An <b>application program interface (API)</b> is a set of routines, protocols, and tools for building software
                      applications. An API specifies how software components should interact. Additionally, APIs are used
                      when programming graphical user interface (GUI) components.
                    </p>
                    <!-- <p><strong>Usage Instructions:</strong> Make sure to include the <code>scrolling-nav.js</code>,
                      <code>jquery.easing.min.js</code>, and <code>scrolling-nav.css</code> files. To make a link smooth
                      scroll to another section on the page, give the link the <code>.page-scroll</code> class and set the
                      link target to a corresponding ID on the page.</p> -->
                    <!-- <input class="btn btn-default page-scroll" type="submit" id="userAuth" value="Authorize Strava"><br/> -->
                  </br>
                    <a class="btn btn-default page-scroll" href="#basics">Lets get this party started!</a>
                </div>
            </div>
        </div>
    </section>

    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\ About Section /\/\/\/\/\/\/\/\/\/\/\/\/\ -->
    <section id="basics" class="basics-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                  <h1>The Basics</h1>
                  </br>
                  <p>
                    Strava’s documentation is a great resource, especially if your application relies on jquery.
                    Unfortunately it is a little vague when it comes to make http requests. Additionally, because
                    of the constraints of this “how to”, we are unable to make CORS ( fill this is ) requests.
                    That means that while I will go over the basics of getting a user’s authentication token, we
                    won’t be able to implement it. That means we also won’t be able to test this with your account.
                    Not to worry though, I’ll show you how to do this for yourself. Additionally, we cannot make POST
                    requests, as that also requires CORS.
                    We are going to mine your Strava profile for some awesome data though. I’ll also show you how
                    to implement a search for other users that like to run your route! That will take us pretty far
                    down the rabbit hole of the API, so I’m confident we’ll learn a few things about the API and its
                    logic along the way.
                  </p>
                </div>
            </div>
        </div>
    </section>

    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\ authorization Section /\/\/\/\/\/\/\/\/\/\/\/\/\ -->
    <section id="authorization" class="authorization-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="crammed">Authorization</h1>
                    <p>
                      The first thing you’re going to want to do is login to strava and
                      <a href=https://www.strava.com/settings/api>get yourself a developer account</a>.
                      They’ll ask for some information, such as your app name, a description, your website
                      where you’re hosting, and an authorization callback domain. This last one can just be localhost.
                      I know this part is dull and we can't work out any examples (unless you're following along and
                      writing your own code), but this is barely a bleep in the Strava documentation, so pay attention.
                    </p>
                    <table width="100%" height="600">
                      <tr>
                        <td width="50%">
                          <iframe width="100%" height="700" src="//jsfiddle.net/jikarcz/szvs2smo/embedded/js,html,result/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
                          <!-- <script async src="//jsfiddle.net/jikarcz/szvs2smo/embed/js,html,result/"></script> -->
                        </td>
                        <td>
                          <div class="fiddleDescriptor">
                            <p>
                              <h4>What the code on the left is saying, from the start is: </h4>
                              First, <code>myAppID</code> is your app ID (also known as cleint ID) - this is the number given to you by
                              Strava when you set up your developer account and registered your app </br>
                              Next, your user ID for Strava. This is optinal since ideally your app will be using your users'
                              user IDs here. For testing purposes though, it's easy to use your account as a test case</br>
                              Third, <code>myAccountToken</code> is the access token. This is a long string of letters and numbers.
                              Strava will give you one to test with your app for your profile when you register your developer account.
                              This section will <code><b>authorize</b></code> is an object prototype for the sort of access token you want
                              to use. You don't have a lot of options here. <code>client_id</code> is provided to you by Strava for your
                              application, as we said. It's <code>myAppID</code>.Your <code>redirect_uri</code> is where you want the access token
                              to be sent so you can retrieve it from thequery string and save it. <code>scope</code> refers to what you want to
                              be able to do with the user's information. The authorization-section request you generate will refelct this.
                              <code>public</code> means that you just want access to their public information(no real permissios here)
                              <code>write</code> means that you want to POST to their account. This can be pictures, activity, whatever.
                              <code>view_private</code> means that you want access to all the data in their account, but you won't POST anything.
                              <code>view_private,write</code> means that you want full reading and writing privilages to their account. You can do anything.
                              <!-- <ul>
                                <li><code>public</code> means that you just want access to their public information(no real permissios here)</li>
                                <li><code>write</code> means that you want to POST to their account. This can be pictures, activity, whatever.</li>
                                <li><code>view_private</code> means that you want access to all the data in their account, but you won't POST anything.</li>
                                <li><code>view_private,write</code> means that you want full reading and writing privilages to their account. You can do anything.</li>
                              </ul> -->
                              Now, since POSTS require CORS access, as I mentioned earlier, we're only going to be requesting full read privilages.</br>
                              As with <code>authorize</code>, <code>athlete</code> represents our primary user and the information we wish to store.
                              Upon successful authorization of your app, Strava servers will return a JSON object with the user's information.
                              We'll store that here. </br>
                              <b>At last</b>, we're going to make the request. We bind this to our "activation" button in html and send an asynchronous
                              request to <code>https://www.strava.com/oauth/authorize</code> with all of our variables from the authorization object we
                              created above. Notice how we used them to build a url address with GET request variables in the line starting with
                              <code>authReq.open...</code></br> If the request was successful, we get a JSON object containing our primary user's data.
                              We parse that JSON object into <code>authResponse</code> and use that to create an instance of an athlete named <code>mainUser</code>.
                              We pass the variables from the JSON athlete object back to our ahtlete constructor to take care of that for us.
                            </p>
                          </div>
                        </td>
                      </tr>
                    </table>
                    <p></br>
                      So what's the purpose of all of this code? Simple. You're going to send Strava something that looks like this:
                      <code>http://www.strava.com/oauth/authorize?client_id=8080&response_type=code&redirect_uri=http://localhost/exchange_token&approval_prompt=force&scope=write</code>
                      </br>and if you're successfule, they're going to send you something that looks like this:
                      <code>http://localhost/exchange_token?state=&code=c498932e64136c8991a3fb31e3d1dfdf2f859357</code>
                      We're after this part, <code>c498932e64136c8991a3fb31e3d1dfdf2f859357</code>. The authorization token. </br></br>
                      I know thats a lot to process, but combine my example with the information provided by Strava and you should be in good shape.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\ GETnPOST Section /\/\/\/\/\/\/\/\/\/\/\/\/\ -->
    <section id="GETnPOST" class="GETnPOST-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>JSON can GET it or POST it</h1>
                    </br>
                    <p>
                      If you're new to this sort of programming, lets back up a little. I'm sure you noticed that our request
                      url specified <code>'GET'</code> and that I mentioned we got back a JSON object. I also mentioned we couldn't
                      do any POSTs in this tutorial so lets examine what they are and why that's not allowed here.Lets go over that briefly.
                    </p>
                    <h3>JSON</h3>
                    <p>
                      JSON, or application/json objects is a special javascript object that is commonly used to pass information around
                      especially in web applications. If you're a fan of smart homes Alexa skills rely heavily on JSON objects. They're great because
                      we can box up a lot of information and even include attributes, send or receive them, and then parse them out into a string
                      using something like <code>var result = JSON.stringify(jsonObject)</code> and extract all the attributes we want from that result
                      variable. We did that in the previous section wiht the response from our user authorization request. Research JSON to learn
                      more about application/json objects, <a href="https://en.wikipedia.org/wiki/JSON">Wikipedia</a> is great place to start.
                    </p>
                    <h3>GET Requests</h3>
                    <p>
                      Info about GET here. Learn more about get requests at <a href="null">thisPlace</a>
                    </p>
                    <div class="leftText">
                      <p>
                        Strava's API allows the following sort of GET requests:
                        <li>To request the primary user's basic data:
                          <p>Send: <code>GET https://www.strava.com/api/v3/athlete?access_token=83ebeabdec09f6670863766f792ead24d61fe3f9</code>
                          </br>To get <a href="http://strava.github.io/api/v3/athlete/">a very detailed JSON object describing the main user (athlete)</a></p>
                        </li>
                        <li>To request the primary user's basic data:
                          <p>Send: <code>GET https://www.strava.com/api/v3/athletes/userID?access_token=83ebeabdec09f6670863766f792ead24d61fe3f9</code></p>
                          </br>To get a far less detailed JSON object describing the the athlete specified by the userID (number)</p>
                        </li>
                        <li>To request an activity by primary user:
                          <p>Send: <code>GET https://www.strava.com/api/v3/activities/activityID?access_token=83ebeabdec09f6670863766f792ead24d61fe3f9</code>
                          </br>To get <a href="http://strava.github.io/api/v3/activities/">a very detailed JSON object with this particular activity's attributes</a></p>
                        </li>
                        <li>To request all activities by primary user:
                          <p>Send: <code>GET https://www.strava.com/api/v3/athlete/activities?access_token=83ebeabdec09f6670863766f792ead24d61fe3f9</code>
                          </br>To get <a href="http://strava.github.io/api/v3/activities/">a basic list of all the athlete's activities</a></p>
                        </li>
                        <p>
                          I Think you get the idea of how it works, we specify that we want to GET something from https://www.strava.com/api/v3/ and
                          include the primary user's access token after the url of the object we want to retrieve.
                        </p>
                        <p>I didn't go over it here, but we can add parameters to the string, as long as one of them is <code>access_token=xyz...</code></p>
                        <p>
                          To add a parameter, we simply place our parameters after the <code>?</code> and seperate them with <code>&</code>s.
                          For example, to get the top 10 athletes of segment number 329857 within the last month for athletes 25-34 years old between 165 and 179 pounds,
                          we would enter <code>...v3/segments/329857/leaderboard?access_token=...&age_group=25_34&weight_class=165_179&date_range=this_month</code>
                        </p>
                        <li>Note: in the cases above every ID is a number representing the object you want to retrieve and the access token is unique to the primary Strava user and your application</li>
                      </p>
                    </div>
                    <h3>POST Requests</h3>
                    <p>
                      Info about POST here. Learn more about get requests at <a href="null">thisPlace</a>
                    </p>
                    <p>
                      Strava's API allows the following sorts of POST requests:
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\ request Section /\/\/\/\/\/\/\/\/\/\/\/\/\ -->
    <section id="request" class="request-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Make a Request To The API</h1>
                    <h3>Building our GET request string</h3>
                    <p>
                      Let's go over a GET request (since I breezed by the one in the authentication section).
                    <h3>Sending our GET request</h3>
                </div>
            </div>
        </div>
    </section>
    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\ response Section /\/\/\/\/\/\/\/\/\/\/\/\/\ -->
    <section id="response" class="response-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Get a Response From The API</h1>
                    </br>
                    <h3>Opening our JSON object</h3>
                    <h3>Extracting what we want</h3>
                </div>
            </div>
        </div>
    </section>
    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\ connections Section /\/\/\/\/\/\/\/\/\/\/\/\/\ -->
    <section id="connections" class="connections-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Use Data From the Response in a Request</h1>
                    </br>
                    <h3>Apply logic to the response</h3>
                    <h3>Use the response data in a request</h3>
                </div>
            </div>
        </div>
    </section>
    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\ repeat Section /\/\/\/\/\/\/\/\/\/\/\/\/\ -->
    <section id="repeat" class="repeat-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Let's Try To Match With Like-Minded Athletes!</h1>
                    </br>
                    <h3>Continue using response object data to find other Strava athletes that frequent our routes!</h3>
                    <p>
                      Since we've already learned how to make query strings and parse responses for the variables we want
                      lets assume our programming logic built the next few query strings.
                    </p>
                </div>
            </div>
        </div>
    </section>
    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\ voile Section /\/\/\/\/\/\/\/\/\/\/\/\/\ -->
    <section id="voile" class="voile-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>We got it!</h1>
                </div>
            </div>
        </div>
    </section>
    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\ results Section /\/\/\/\/\/\/\/\/\/\/\/\/\ -->
    <section id="results" class="results-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Lets see our results!</h1>
                    <h3>match1</h3>
                      <li>Name: </li>
                      <li>Username: </li>
                      <li>Profile picture: </li>
                      <li>Gender: </li>
                      <li>City: </li>
                      <li>State: </li>
                      <li>Premium Membership: </li>
                </div>
            </div>
        </div>
    </section>
    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\ extra Section /\/\/\/\/\/\/\/\/\/\/\/\/\ -->
    <section id="extra" class="extra-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Dive Deeper</h1>
                    </br>
                    <h4>For More information, check out these great resources!</h4>
                    </br>
                    <p><a href="https://www.strava.com/dashboard">Strava's Homepage (well, your Strava profile)</a></p>
                    <p><a href="https://strava.github.io/api/">Strava's API Documentation</a></p>
                    <p><a href="https://www.reddit.com/r/Strava/comments/46yv53/how_to_get_started_with_strava_api/">Strava API's Reddit</a></p>
                    <p><a href="https://groups.google.com/forum/m/#!forum/strava-api">Strava API's Google Group</a></p>
                    <p><a href="https://curl.haxx.se">The curl command line tool and library (for transferring data with URLs)</a></p>
                </div>
            </div>
        </div>
    </section>
    <!-- -{{{{{{{{{{{{{{{{{{{{{{{{{{ jQuery }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}- -->
    <script src="js/jquery.js"></script>

    <!-- -{{{{{{{{{{{{{{{{{ Bootstrap Core JavaScript }}}}}}}}}}}}}}}}}}}}- -->
    <script src="js/bootstrap.min.js"></script>

    <!-- -{{{{{{{{{{{{{{{{{ Scrolling Nav JavaScript }}}}}}}}}}}}}}}}}}}}- -->
    <script src="js/jquery.easing.min.js"></script>
    <script src="js/scrolling-nav.js"></script>

</body>

</html>
